# /goal

목표 확인 및 진행상황 추적 커맨드

## 사용법

```
/goal                 # 현재 목표와 진행상황 확인
/goal check           # 현재 작업이 목표와 정렬되는지 확인
/goal update          # 목표 진척도 수동 업데이트
/goal add             # 새 목표 추가
/goal modify          # 기존 목표 수정
```

## 설명

프로젝트의 목표와 현재 진행상황을 확인합니다. 작업이 목표 방향으로 가고 있는지 점검하고, 발산을 조기에 감지합니다.

## 트리거 키워드

다음과 같은 사용자 요청에 이 커맨드가 호출되어야 합니다:

- "목표 확인해줘", "목표 보여줘", "현재 목표가 뭐야"
- "진행상황 확인", "얼마나 진행됐어", "진척도 보여줘"
- "지금 방향이 맞아?", "목표랑 맞는지 확인해줘"
- "발산하고 있는 것 같아", "목표에서 벗어난 것 같아"
- "goal check", "check alignment", "progress"

## 실행 스킬 순서

### `/goal` (기본)
1. `state-loader.md` - 현재 상태 로드
2. **`goal-status-display.md`** (신규) - 목표 및 진척도 표시

### `/goal check`
1. `state-loader.md` - 현재 상태 로드
2. **`current-action-alignment.md`** (신규) - 현재 작업의 목표 정렬 확인

### `/goal update`
1. `validate-goal-alignment.md` - 목표 정렬 검증 및 진척도 업데이트
2. `state-updater.md` - 상태 저장

## Agent

- `feedback-coach.md` 사용

## 입력

- `.workflow/state.json`의 goals 배열
- 현재 Phase 정보
- (check 모드) 현재 진행 중인 작업 또는 계획된 액션

## 산출물

### `/goal` 기본 출력

```
🎯 프로젝트 목표 현황
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📍 현재 Phase: {current_phase}

🎯 Goal 1: {description}
   진척도: ████████░░ 80%
   성공 지표:
   - ✅ {indicator_1} (완료)
   - ⬜ {indicator_2} (진행 중)
   최근 변화: +15% (온보딩 플로우 개선)

🎯 Goal 2: {description}
   진척도: ██░░░░░░░░ 20%
   성공 지표:
   - ✅ {indicator_1} (완료)
   - ⬜ {indicator_2}
   - ⬜ {indicator_3}
   최근 변화: 없음 (2회 연속)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 전체 진척도: 50%
⚠️ 주의: Goal 2가 2회 연속 진척 없음

💡 권장 액션:
- Goal 2의 {indicator_2} 관련 작업 우선 진행
```

### `/goal check` 출력

```
🧭 목표 정렬 체크
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 현재/계획 중인 작업:
"{작업 설명}"

🎯 목표 정렬 분석:

✅ Goal 1과 정렬됨
   - 기여도: High (+15~20% 예상)
   - 연결된 지표: {indicator}

⚠️ Goal 2와 약한 정렬
   - 기여도: Low (간접적)
   - 이유: {reason}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 종합 정렬도: 양호 (Good)

💡 제안:
- 현재 방향 유지해도 좋습니다
- Goal 2 진척을 위해 {대안 작업}도 고려해보세요
```

## 목표 없는 경우

```
⚠️ 아직 설정된 목표가 없어요.

목표는 Ideation Stage에서 자동으로 추출되거나,
직접 추가할 수 있어요.

- /goal add - 새 목표 추가
- /ideate - Ideation부터 시작하여 목표 추출
```

## 발산 경고 표시

```
🚨 발산 경고!
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

최근 {n}회 이터레이션에서 목표 진척이 없습니다.

📉 패턴 분석:
- Goal 1: ↗ 진척 중
- Goal 2: → → → 정체 (3회 연속)

🤔 가능한 원인:
1. 목표가 현실과 맞지 않게 되었을 수 있음
2. 작업이 다른 방향으로 진행되고 있음
3. 목표가 이미 충분히 달성되었을 수 있음

💡 권장 액션:
1️⃣ 목표 재검토 - /goal modify
2️⃣ 방향 전환 - Goal 2 관련 작업 집중
3️⃣ 목표 완료 처리 - 달성된 목표 마감
```

## 완료 조건

- 목표 상태 표시 완료
- (check 모드) 정렬 분석 완료
- 권장 액션 제시

## 다음 단계

- 목표 정렬됨 → 계속 진행
- 발산 감지 → `/goal modify` 또는 방향 전환 제안
- 목표 없음 → `/goal add` 또는 `/ideate` 제안
