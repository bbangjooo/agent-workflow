# Fix Verification

Step D.4: 수정 검증 (Fix Verification)

## 설명

사용자가 해결책을 적용한 후 에러가 해결되었는지 확인하고, 최종 디버깅 리포트를 생성합니다. 재발 방지를 위한 체크리스트도 제공합니다.

## 트리거

- Step D.3 (Solution Proposal) 완료 후 자동 실행
- 사용자가 수정을 적용하고 결과를 공유할 때

## 입력

- `outputs/debugging/solution.md` - 해결책 제안
- `outputs/debugging/root-cause.md` - 원인 분석
- `outputs/debugging/error-report.md` - 에러 리포트
- 사용자의 수정 적용 결과

## 실행 내용

### 검증 프로세스

```
1. 수정 적용 확인 요청
    ↓
2. 결과 확인 (성공/실패)
    ↓
3-A. 성공 시: 최종 리포트 생성
3-B. 실패 시: 추가 분석 진행
    ↓
4. 재발 방지 체크리스트 제공
```

### 검증 요청 멘트

```
💡 해결책을 적용한 후 결과를 알려주세요.

확인 방법:
1. 위에서 제안한 수정 사항을 적용하세요
2. 다음 명령을 실행해주세요:
   ```
   {npm run build / npm run dev / 기타 확인 명령}
   ```
3. 에러가 해결되었나요?

- 해결됨 → "해결됐어요"라고 알려주세요
- 여전히 에러 → 새로운 에러 메시지를 공유해주세요
- 다른 에러 발생 → 새 에러 메시지를 공유해주세요
```

### 결과별 대응

#### 성공한 경우

```
🎉 에러가 해결되었습니다!

{축하 및 학습 포인트 간단 정리}
```

- 최종 디버깅 리포트 생성
- 재발 방지 팁 제공
- 디버깅 완료 선언

#### 실패한 경우 (동일 에러)

```
아직 에러가 해결되지 않았네요. 몇 가지 확인해볼게요.

1. 수정 사항이 정확히 적용되었나요?
2. 파일을 저장하셨나요?
3. 서버를 재시작하셨나요? (해당되는 경우)
```

- 수정 적용 여부 재확인
- 추가 원인 분석
- 대안적 해결책 제시

#### 다른 에러가 발생한 경우

```
새로운 에러가 발생했네요. 괜찮아요, 함께 해결해봐요.

{새 에러 분석 시작}
```

- 새 에러에 대해 Step D.1부터 다시 진행
- 또는 연관된 문제인 경우 추가 해결책 제시

### 재발 방지 체크리스트

에러 유형별로 제공:

#### Build Error 예방
- [ ] import 경로를 일관되게 사용하기 (절대/상대 경로 통일)
- [ ] 새 파일 추가 시 export 확인
- [ ] 패키지 설치 후 타입 정의도 설치 (@types/...)

#### Type Error 예방
- [ ] strict 모드에서 개발하기
- [ ] any 타입 최소화
- [ ] null/undefined 처리 습관화

#### Runtime Error 예방
- [ ] 데이터 존재 여부 체크 후 접근
- [ ] async/await에 try-catch 적용
- [ ] 에러 경계 (Error Boundary) 설정

#### Deploy Error 예방
- [ ] 환경 변수 목록 문서화
- [ ] 로컬과 프로덕션 환경 차이 기록
- [ ] 배포 전 빌드 테스트

### 대화 원칙

- 해결 시 진심으로 축하
- 미해결 시 좌절하지 않도록 격려
- 학습 포인트 간단히 정리
- 다음에 같은 에러를 만나면 어떻게 할지 안내

## 산출물

`outputs/debugging/debug-complete.md`

```markdown
# 디버깅 완료 리포트

## 메타데이터
- Step: D.4 - 수정 검증
- 생성일시: {현재 시간}
- 상태: final
- 결과: 해결됨

## 요약

| 항목 | 내용 |
|------|------|
| 에러 유형 | {Build/Type/Runtime/Deploy/Database} |
| 근본 원인 | {한 줄 요약} |
| 해결 방법 | {한 줄 요약} |
| 소요 시간 | {대략적인 시간} |

## 에러 정보

### 원본 에러
```
{원본 에러 메시지}
```

### 발생 컨텍스트
- 시점: {발생 시점}
- 상황: {어떤 작업 중}

## 원인 분석

**근본 원인:** {원인 상세}

**문제 위치:** `{파일 경로}`

## 적용한 해결책

### 수정 내용

**파일:** `{파일 경로}`

**변경 전:**
```{언어}
{기존 코드}
```

**변경 후:**
```{언어}
{수정된 코드}
```

## 검증 결과

- [x] 에러 해결됨
- [x] 빌드 성공
- [x] 기존 기능 정상 동작

## 학습 포인트

### 이 에러에서 배운 것
1. {학습 포인트 1}
2. {학습 포인트 2}

### 재발 방지 체크리스트
- [ ] {예방 조치 1}
- [ ] {예방 조치 2}
- [ ] {예방 조치 3}

## 참조 문서

- `references/error-patterns/{관련 파일}.md`

---

✅ 디버깅 완료
```

## 완료 조건

- 사용자로부터 에러 해결 확인
- 최종 디버깅 리포트 생성
- 재발 방지 팁 제공
- `debug-complete.md` 파일이 생성됨

## 다음 Step

없음 - 디버깅 워크플로우 완료

필요시 원래 진행하던 Stage로 복귀:
- Stage 3 (Development) 또는
- Stage 4 (Deployment)
