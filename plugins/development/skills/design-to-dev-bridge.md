# Design-to-Dev Bridge

Step 3.1: 디자인-개발 브릿지 (Design-to-Dev Bridge)

> **역할: Full-stack**
> 디자인 산출물 분석 및 개발 전략 수립

## 설명

디자인 단계(Stage 2) 결과물을 분석하여 개발에 필요한 구체적인 구현 전략을 결정하는 스킬입니다. UI 라이브러리 선택, 컴포넌트 매핑, 디자인 토큰 변환 등을 수행합니다.

## 트리거

- `/develop` 커맨드 실행 시 첫 번째로 실행
- Stage 2 (Design) 완료 직후
- `outputs/stage-2/design-spec.md` 파일이 존재할 때

## 입력

- `outputs/stage-2/design-spec.md` (필수)
- `outputs/stage-2/design-system.md` (필수)
- `outputs/stage-2/component-spec.md` (필수)
- `outputs/stage-2/wireframes.md` (필수)
- `outputs/stage-1/prd.md` (참고)

---

## 실행 내용

### 1. 디자인 산출물 분석

디자인 단계의 모든 산출물을 분석하여 개발에 필요한 정보를 추출합니다:

```
분석 항목:
□ 디자인 시스템 (색상, 타이포, 간격, 그림자 등)
□ 컴포넌트 목록 및 상태
□ 화면 구조 및 레이아웃
□ 반응형 브레이크포인트
□ 인터랙션 및 애니메이션
□ 아이콘 및 이미지 리소스
```

### 2. UI 라이브러리 추천

디자인 시스템 특성을 기반으로 적합한 UI 라이브러리를 추천합니다:

```
분석 기준:
- 커스터마이징 필요 정도
- 컴포넌트 복잡도
- 접근성 요구사항
- 테마/다크모드 요구사항
- 개발 속도 vs 커스텀 UI

추천 매트릭스:
┌─────────────────────┬───────────────────────────────────┐
│ 디자인 특성          │ 추천 UI 라이브러리                  │
├─────────────────────┼───────────────────────────────────┤
│ 커스텀 디자인 많음    │ shadcn/ui + Tailwind              │
│ Material 스타일      │ Material UI (MUI)                 │
│ 다양한 테마 필요      │ DaisyUI + Tailwind                │
│ 접근성 중시          │ Chakra UI 또는 Radix UI            │
│ 엔터프라이즈/어드민   │ Ant Design                        │
│ 최소한의 커스텀      │ 선택한 라이브러리 기본 스타일        │
└─────────────────────┴───────────────────────────────────┘
```

### 3. 컴포넌트 매핑

디자인 컴포넌트를 UI 라이브러리 컴포넌트에 매핑합니다:

```
예시 매핑:
┌──────────────────┬──────────────────┬───────────────────────┐
│ 디자인 컴포넌트    │ UI 라이브러리     │ 커스텀 필요 여부        │
├──────────────────┼──────────────────┼───────────────────────┤
│ Primary Button   │ Button           │ 색상/크기 조정          │
│ Text Input       │ Input            │ 스타일 조정            │
│ Modal            │ Dialog/Modal     │ 그대로 사용            │
│ Card             │ Card             │ 레이아웃 조정          │
│ Navigation       │ -                │ 커스텀 구현 필요        │
│ Data Table       │ Table            │ 그대로 사용            │
└──────────────────┴──────────────────┴───────────────────────┘
```

### 4. 시맨틱 디자인 토큰 정의 (핵심!)

> **⚠️ 이 단계가 디자인 시스템 준수의 핵심입니다.**

디자인 명세의 CSS 값들을 **기술 중립적인 시맨틱 토큰 이름**으로 정의합니다.
이 토큰들은 이후 Project Setup에서 실제 클래스/변수로 매핑됩니다.

#### 시맨틱 토큰 네이밍 규칙

```
{컴포넌트}-{요소}-{상태}-{속성}

예시:
- button-primary-default-bg      (버튼 primary 기본 배경)
- button-primary-hover-bg        (버튼 primary 호버 배경)
- text-heading-1-size            (제목1 크기)
- text-heading-1-weight          (제목1 굵기)
- color-primary                  (주요 색상)
- color-primary-light            (주요 색상 밝은 변형)
- spacing-base                   (기본 간격)
- radius-button                  (버튼 모서리 반경)
```

#### 시맨틱 토큰 테이블 작성

디자인 명세의 모든 스타일 값을 시맨틱 토큰으로 변환합니다:

```
┌─────────────────────────┬──────────────────────────────┬─────────────────────────┐
│ 시맨틱 토큰 이름          │ 디자인 명세 값                 │ 용도                     │
├─────────────────────────┼──────────────────────────────┼─────────────────────────┤
│ button-primary-bg       │ var(--gradient-primary)      │ Primary 버튼 배경        │
│ button-primary-text     │ #FFFFFF                      │ Primary 버튼 텍스트      │
│ button-primary-shadow   │ 0 4px 6px rgba(0,0,0,0.1)   │ Primary 버튼 그림자      │
├─────────────────────────┼──────────────────────────────┼─────────────────────────┤
│ text-heading-1-size     │ 32px                         │ H1 크기                  │
│ text-heading-1-weight   │ 700 (Bold)                   │ H1 굵기                  │
│ text-body-size          │ 16px                         │ 본문 크기                │
├─────────────────────────┼──────────────────────────────┼─────────────────────────┤
│ color-primary           │ #3B82F6                      │ 주요 색상                │
│ color-primary-gradient  │ linear-gradient(...)         │ 주요 그라데이션          │
│ color-gray-900          │ #111827                      │ 텍스트 색상              │
├─────────────────────────┼──────────────────────────────┼─────────────────────────┤
│ spacing-4               │ 16px                         │ 기본 간격                │
│ spacing-8               │ 32px                         │ 큰 간격                  │
├─────────────────────────┼──────────────────────────────┼─────────────────────────┤
│ radius-sm               │ 4px                          │ 작은 모서리              │
│ radius-md               │ 8px                          │ 중간 모서리              │
│ radius-button           │ 8px                          │ 버튼 모서리              │
└─────────────────────────┴──────────────────────────────┴─────────────────────────┘
```

#### 토큰 완전성 검증

디자인 명세서의 **모든 스타일 값**이 시맨틱 토큰으로 정의되었는지 확인합니다:

```
검증 체크리스트:
□ 모든 색상 (Primary, Secondary, Gray scale, 상태 색상)
□ 모든 타이포그래피 (Heading 1-6, Body, Caption 등)
□ 모든 간격 (spacing scale)
□ 모든 그림자 (shadow scale)
□ 모든 모서리 반경 (radius scale)
□ 모든 컴포넌트별 스타일 (버튼, 입력, 카드 등)
□ 모든 상태별 스타일 (hover, active, disabled, focus)
```

### 5. 구현 전략 결정

사용자와 대화를 통해 구현 전략을 결정합니다.

---

## 질문 가이드

### 1. UI 라이브러리 선택

```
디자인 명세를 분석한 결과, 다음 UI 라이브러리를 추천합니다:

[추천] {추천 라이브러리}

이유:
- {이유 1}
- {이유 2}

다른 옵션:
- {대안 1}: {장단점}
- {대안 2}: {장단점}

어떤 라이브러리를 사용할까요?
```

### 2. 커스텀 컴포넌트 범위

```
디자인에서 다음 컴포넌트들은 커스텀 구현이 필요합니다:

필수 커스텀:
- {컴포넌트 1}: {이유}
- {컴포넌트 2}: {이유}

선택적 커스텀 (기본 스타일 사용 가능):
- {컴포넌트 3}
- {컴포넌트 4}

모든 컴포넌트를 커스텀으로 구현할까요, 아니면 필수만 구현할까요?
```

### 3. 디자인 시스템 적용 방식

```
디자인 시스템을 코드에 적용하는 방식을 선택해주세요:

[1] Tailwind Config 확장
   - tailwind.config.js에 디자인 토큰 추가
   - 유틸리티 클래스로 사용
   - 권장: Tailwind 기반 프로젝트

[2] CSS 변수 사용
   - globals.css에 CSS 변수 정의
   - var(--color-primary) 형태로 사용
   - 권장: CSS-in-JS 또는 일반 CSS 프로젝트

[3] Theme Provider
   - 컨텍스트로 테마 값 제공
   - 다크 모드 전환 용이
   - 권장: Chakra UI, MUI 등 사용 시

어떤 방식을 선호하시나요?
```

### 4. 반응형 전략

```
디자인의 반응형 브레이크포인트:

- Mobile: {값}
- Tablet: {값}
- Desktop: {값}

반응형 구현 전략을 선택해주세요:

[1] Mobile First (권장)
   - 모바일부터 시작하여 확장
   - min-width 미디어 쿼리 사용

[2] Desktop First
   - 데스크톱부터 시작하여 축소
   - max-width 미디어 쿼리 사용

[3] 주요 화면만 반응형
   - MVP에서는 핵심 화면만 반응형
   - 나머지는 데스크톱 기준
```

### 5. 아이콘 및 이미지

```
디자인에서 사용된 아이콘/이미지:

아이콘:
- {아이콘 스타일}: {개수}개

추천 아이콘 라이브러리:
- lucide-react (권장): 깔끔, 일관성
- heroicons: Tailwind 공식
- react-icons: 다양한 스타일

이미지 최적화:
- next/image 사용 권장
- placeholder blur 처리
- lazy loading 적용

어떤 아이콘 라이브러리를 사용할까요?
```

---

## 대화 원칙

- 디자인 명세를 존중하며 개발 효율성 균형
- 커스터마이징 범위를 명확히 정의
- MVP에 집중하여 과도한 커스텀 지양
- 레퍼런스 문서 안내 (references/design-systems/)

---

## 산출물

`outputs/stage-3/design-dev-bridge.md`

```markdown
# Design-to-Dev Bridge

## 메타데이터
- Stage: 3
- Step: 3.1 - 디자인-개발 브릿지
- 생성일시: {현재 시간}
- 상태: final

## 디자인 분석 요약

### 디자인 시스템
| 항목 | 값 | 코드 변환 |
|------|-----|----------|
| Primary Color | {색상} | {변환값} |
| Font Family | {폰트} | {변환값} |
| Base Spacing | {간격} | {변환값} |
| Border Radius | {반경} | {변환값} |

### 컴포넌트 현황
- 총 컴포넌트 수: {N}개
- UI 라이브러리 사용: {N}개
- 커스텀 구현 필요: {N}개

## 구현 결정 사항

### UI 라이브러리
- **선택**: {라이브러리명}
- **이유**: {선택 이유}

### 컴포넌트 매핑

| 디자인 컴포넌트 | 구현 방식 | 라이브러리 컴포넌트 | 커스텀 범위 |
|---------------|----------|-------------------|------------|
| {컴포넌트1} | 라이브러리 | {컴포넌트} | 스타일만 |
| {컴포넌트2} | 커스텀 | - | 전체 |
| ... | ... | ... | ... |

### 시맨틱 디자인 토큰 (필수!)

> ⚠️ 이 테이블은 Project Setup에서 실제 클래스/변수로 매핑되며,
> UI 구현 시 반드시 참조해야 합니다.

| 시맨틱 토큰 | 디자인 값 | 용도 |
|-------------|-----------|------|
| button-primary-bg | {값} | Primary 버튼 배경 |
| button-primary-text | {값} | Primary 버튼 텍스트 |
| button-primary-hover-bg | {값} | Primary 버튼 호버 |
| button-secondary-bg | {값} | Secondary 버튼 배경 |
| text-heading-1 | {크기/굵기} | H1 스타일 |
| text-heading-2 | {크기/굵기} | H2 스타일 |
| text-body | {크기/굵기} | 본문 스타일 |
| color-primary | {값} | 주요 색상 |
| color-primary-gradient | {값} | 주요 그라데이션 |
| spacing-4 | {값} | 기본 간격 |
| radius-button | {값} | 버튼 모서리 |
| shadow-button | {값} | 버튼 그림자 |
| ... | ... | ... |

### 토큰 완전성 체크

- [ ] 디자인 명세의 모든 색상이 토큰화됨
- [ ] 디자인 명세의 모든 타이포그래피가 토큰화됨
- [ ] 디자인 명세의 모든 컴포넌트 스타일이 토큰화됨
- [ ] 디자인 명세의 모든 상태(hover, active, disabled)가 토큰화됨

### 디자인 토큰 변환 예시

```typescript
// tailwind.config.ts 또는 theme 설정
{
  colors: {
    primary: '{값}',
    secondary: '{값}',
    // ...
  },
  fontFamily: {
    sans: ['{폰트}', 'sans-serif'],
  },
  // ...
}
```

### 반응형 전략
- **방식**: {Mobile First / Desktop First}
- **브레이크포인트**:
  - sm: {값}
  - md: {값}
  - lg: {값}

### 아이콘
- **라이브러리**: {라이브러리명}
- **사용 아이콘 목록**: {아이콘 리스트 또는 참조}

## 개발 우선순위

### Phase 1: 기반 구축
1. 프로젝트 셋업 + UI 라이브러리 설치
2. 디자인 토큰 설정 (tailwind.config / theme)
3. 글로벌 스타일 적용

### Phase 2: 기본 컴포넌트
1. {컴포넌트 1}
2. {컴포넌트 2}
3. ...

### Phase 3: 커스텀 컴포넌트
1. {커스텀 컴포넌트 1}
2. {커스텀 컴포넌트 2}
3. ...

## 참고 레퍼런스

개발 시 참고할 문서:
- `references/design-systems/{라이브러리}.md`
- `references/patterns/frontend-clean-architecture.md`

## 다음 단계

→ Step 3.2: Tech Stack Selection (기술 스택 선택)
```

---

## 완료 조건

- [ ] 모든 디자인 산출물 분석 완료
- [ ] UI 라이브러리 선택 완료
- [ ] 컴포넌트 매핑 완료
- [ ] **시맨틱 디자인 토큰 테이블 작성 완료** (필수!)
- [ ] **토큰 완전성 검증 완료** - 디자인 명세의 모든 스타일이 토큰화됨
- [ ] 구현 전략 결정 완료
- [ ] `design-dev-bridge.md` 파일이 생성됨

## 다음 Step

→ Step 3.2: Tech Stack Selection (기술 스택 선택)
